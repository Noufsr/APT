<app-header></app-header>

<ion-content>
  <div class="perfil-container">
    <div class="page-header">
      <h1>Mi Perfil</h1>
      <p>Información personal y configuración</p>
    </div>

    <!-- Avatar/Icono de usuario -->
    <div class="user-avatar">
      <div class="avatar-circle">
        <ion-icon name="person"></ion-icon>
      </div>
    </div>

    <!-- Formulario de perfil -->
    <div class="content-card">
      <form [formGroup]="perfilForm" (ngSubmit)="guardar()">
        <div class="form-section">
          <div class="form-field">
            <label>Nombre</label>
            <div class="input-wrapper">
              <ion-icon name="person-outline"></ion-icon>
              <input
                type="text"
                placeholder="Tu nombre completo"
                formControlName="nombre">
            </div>
          </div>

          <div class="form-field">
            <label>Teléfono</label>
            <div class="input-wrapper">
              <ion-icon name="call-outline"></ion-icon>
              <input
                type="tel"
                placeholder="+56 9 1234 5678"
                formControlName="telefono">
            </div>
          </div>

          <div class="form-field">
            <label>Dirección</label>
            <div class="input-wrapper">
              <ion-icon name="location-outline"></ion-icon>
              <input
                type="text"
                placeholder="Tu dirección"
                formControlName="direccion">
            </div>
          </div>

          <div class="form-field">
            <label>Correo electrónico</label>
            <div class="input-wrapper readonly">
              <ion-icon name="mail-outline"></ion-icon>
              <input
                type="email"
                placeholder="tu@email.com"
                formControlName="email"
                readonly>
            </div>
          </div>

          <button
            type="button"
            class="btn-change-email"
            (click)="abrirModalCambioCorreo()">
            <ion-icon name="mail-open-outline"></ion-icon>
            Cambiar correo electrónico
          </button>

          <div class="form-actions">
            <button
              type="submit"
              class="btn-save"
              [disabled]="guardando || perfilForm.invalid">
              <ion-icon name="checkmark-circle-outline"></ion-icon>
              <span *ngIf="!guardando">Guardar cambios</span>
              <span *ngIf="guardando">Guardando...</span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</ion-content>
