<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Nuevo Producto</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cerrar()">Cerrar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-item>
    <ion-label position="floating">CAD (Código Almacén Daniella)</ion-label>
    <ion-input
      [(ngModel)]="producto.cad"
      (ionBlur)="validarCAD()"
      placeholder="Ingrese CAD">
    </ion-input>
  </ion-item>
  <ion-item *ngIf="errorCAD" color="danger">
    <ion-label>{{ errorCAD }}</ion-label>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Nombre</ion-label>
    <ion-input [(ngModel)]="producto.nombre"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Código de Barras</ion-label>
    <ion-input
      type="number"
      [(ngModel)]="producto.cod_barras"
      (ionBlur)="validarCodigoBarras()"
      placeholder="Ingrese código de barras">
    </ion-input>
  </ion-item>
  <ion-item *ngIf="errorCodigoBarras" color="danger">
    <ion-label>{{ errorCodigoBarras }}</ion-label>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Stock</ion-label>
    <ion-input
      type="number"
      [(ngModel)]="producto.stock"
      placeholder="Ingrese stock">
    </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Precio Compra</ion-label>
    <ion-input
      type="number"
      [(ngModel)]="producto.precio_compra"
      placeholder="Ingrese precio de compra">
    </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Precio Venta</ion-label>
    <ion-input
      type="number"
      [(ngModel)]="producto.precio_venta"
      placeholder="Ingrese precio de venta">
    </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Marca</ion-label>
    <ion-input [(ngModel)]="producto.marca"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Categoría</ion-label>
    <ion-input [(ngModel)]="producto.categoria"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label>Proveedor</ion-label>
    <ion-select [(ngModel)]="producto.idproveedor" placeholder="Seleccionar proveedor">
      <ion-select-option *ngFor="let proveedor of proveedores" [value]="proveedor.id">
        {{ proveedor.nombreProveedor }}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <ion-button
    expand="full"
    (click)="guardarProducto()"
    [disabled]="!formularioValido()">
    Guardar Producto
  </ion-button>
</ion-content>
